<sidebar [page]="'orders'"></sidebar>

<section class="main-content">
    <div class="box-spacing" *ngFor="let order of orders; let i = index;">
        <div class="order-box-head">
            <div class="left textLeft">Table: {{order.table}} <br/> <em> - {{order.tableTitle}}</em></div>
            <div class="right">
                <button (click)="editOrder(order._id)" class="btn btn-xs btn-primary"><i class="fa fa-pencil-square-o"></i></button>
                <button type="button" class="btn btn-xs btn-danger" (click)="closeOrder(order._id, i)"><i class="fa fa-book"></i></button>
            </div>
        </div>
        <table class="table table-sm">
            <tr *ngFor="let item of order.orderItems; let j = index;">
                <td><span class="number-font">{{item.qty}}</span> {{item.itemName}}</td>
                <td>
                    <button class="fa fa-minus-circle fa-lg" (click)="decQty(i, j)"></button>
                    <button class="fa fa-plus-circle fa-lg" (click)="incQty(i, j)"></button>
                </td>
                <td>{{item.qty * item.unitPrice}}</td>
            </tr>
        <tfoot>
            <tr>
                <td>Total:</td>
                <td>&nbsp;&nbsp;</td>
                <td><span class="fa fa-inr"></span> {{order.grandTotal}}</td>
            </tr>
        </tfoot>
        </table>
    </div>
</section>

<!--
<h1>Hello {{name}}</h1>
<p><strong>email:</strong> {{email}}</p>
<p><strong>Address:</strong> {{address.street}} {{address.city}}, {{address.state}}</p>
<button (click)="toggleHobbies()">{{showHobbies ? 'Hide' : 'Show'}} Hobbies</button>
<div *ngIf="showHobbies">
    <h3>Hobbies</h3>
    <ul>
        <li *ngFor="let hobby of hobbies; let i = index">
            {{hobby}} <button (click)="deleteHobby(i)">X</button>
        </li>
    </ul>
    <form (submit)="addHobby(hobby.value)">
        <label>Add Hobby: <input type="text" #hobby /></label>
    </form>
</div>
<form>
    <fieldset>
        <legend>Details</legend>
        <label>Name: <input name="name" type="text" [(ngModel)]="name" /></label><br/><br/>
        <label>Email: <input name="email" type="text" [(ngModel)]="email" /></label><br/><br/>
        <label>Street: <input name="address.street" type="text" [(ngModel)]="address.street" /></label><br/><br/>
        <label>City: <input name="address.city" type="text" [(ngModel)]="address.city" /></label><br/><br/>
        <label>State: <input name="address.state" type="text" [(ngModel)]="address.state" /></label>
    </fieldset>
</form>
<hr/>
<h2>Posts from API</h2>
<div *ngFor="let post of posts">
    <h3>{{post.title}}</h3>
    <p>{{post.body}}</p>
</div>
-->